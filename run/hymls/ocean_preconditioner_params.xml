<!-- **************************************** -->
<!-- Standard ocean preconditioner parameters -->
<!--                                          -->
<!-- **************************************** -->

<!-- Note that preconditioning of Chat can be more efficient by choosing -->
<!-- a direct solver. For complex geometries, however, this would give   -->
<!-- pivot errors, so this setup is the safest right now.                -->

<ParameterList name="Block Preconditioner">
  <!-- <Parameter name="Preconditioner" type="string" value="HYMLS"/> -->
  <!-- <Parameter name="Preconditioner" type="string" value="TRIOS"/> -->
  <Parameter name="Preconditioner Type" type="string" value="HYMLS"/>
  <ParameterList name="Problem"><!--{-->
    
    <Parameter name="Equations" type="string" value="Stokes-T"/>
    <Parameter name="Dimension" type="int" value="3"/>
    <Parameter name="Degrees of Freedom" type="int" value="6"/>

    <ParameterList name="Variable 0">
      <Parameter name="Variable Type" type="string" value="Velocity"/>
    </ParameterList>
    <ParameterList name="Variable 1">
      <Parameter name="Variable Type" type="string" value="Velocity"/>
    </ParameterList>
    <ParameterList name="Variable 2">
      <Parameter name="Variable Type" type="string" value="Interior"/>
    </ParameterList>
    <ParameterList name="Variable 3">
      <Parameter name="Variable Type" type="string" value="Pressure"/>
    </ParameterList>
    <ParameterList name="Variable 4">
      <Parameter name="Variable Type" type="string" value="Laplace"/>
    </ParameterList>
    <ParameterList name="Variable 5">
      <Parameter name="Variable Type" type="string" value="Laplace"/>
    </ParameterList>
    <Parameter name="Retained Pressure Nodes" type="int" value="2"/>
  </ParameterList><!--}-->
  <!-- multi-level preconditioner -->
  <ParameterList name="Preconditioner"><!--{-->

    <!-- cartesian partitioner for Stokes-C problems -->
    <Parameter name="Partitioner" type="string" value="Cartesian"/>
    <!-- <Parameter name="Group Separators" type="bool" value="0"/> -->

    <Parameter name="Fix Pressure Level" type="bool" value="True"/>

    <Parameter name="Eliminate Velocities Together" type="bool" value="True"/>
    <!-- <Parameter name="B-Grid Transform" type="bool" value="true"/> -->
    <!-- <Parameter name="Apply Dropping" type="bool" value="false"/> -->
    <!-- <Parameter name="Apply Orthogonal Transformation" type="bool" value="true"/> -->

    <!-- you can either set 'Separator Length' or 'Number of Subdomains' -->
    <Parameter name="Separator Length" type="int" value="4"/>
    <Parameter name="Coarsening Factor" type="int" value="2"/>
    
    <!-- number of levels to be created (1: direct solver for Schur complement, -->
    <!-- 2: solve Schur iteratively and reduced Schur directly,                 -->
    <Parameter name="Number of Levels" type="int" value="3"/>
    <!-- <Parameter name="Retain Nodes (z)" type="int" value="200"/> -->
    
    <!-- parameters for the direct solvers (Ifpack_Amesos) -->

    <!-- you can either make direct solver settings in a single list            -->
    <!-- called "Direct Solver" or in separate lists for each level, like this: -->
    
    <!-- settings for subdomain solver -->
    <!-- <ParameterList name="Sparse Solver"> -->
    <!--   <!-\- "Klu" is the default here. These systems are always sequential -\-> -->
    <!--   <Parameter name="amesos: solver type" type="string" value="Klu"/> -->
    <Parameter name="Subdomain Solver Type" type="string" value="Amesos"/>
    <ParameterList name="Sparse Solver">
      <Parameter name="amesos: solver type" type="string" value="Superlu"/>
      <Parameter name="Custom Ordering" type="bool" value="0"/>
      <Parameter name="Custom Scaling" type="bool" value="1"/>
      <Parameter name="OutputLevel" type="int" value="1"/>
    </ParameterList>
    <ParameterList name="Coarse Solver">
      <Parameter name="amesos: solver type" type="string" value="Superlu"/>
    </ParameterList>
  </ParameterList><!--}-->
</ParameterList><!-- } Block Precond -->
