<ParameterList name="Block Preconditioner">
  
  <!-- Preconditioner scheme: currently allowed are                    -->
  <!-- "ILU": involves the very expensive Schur-complement that        -->
  <!--        can not currently be solved efficiently                  -->
  <!-- "Gauss-Seidel": cheap but deteriorates quickly as forcing       -->
  <!--                  increases                                      -->
  <!-- "symmetric Gauss-Seidel": doesn't seem to give any improvement) -->
  <!--                           but is not much more expensive either -->
  <Parameter name="Scheme" type="string" value="Gauss-Seidel"/>

  <!-- this influences the output behavior of all methods inside the -->
  <!-- preconditioner. Values should be between 0 and 10.            -->
  <Parameter name="Verbosity" type="int" value="0"/>
  
  <ParameterList name="Auv Solver">
    <Parameter name="Method" type="string" value="None"/>
    <Parameter name="Max Num Iter" type="int" value="1"/>
    <Parameter name="Tolerance" type="double" value="1.0e-4"/>
    <Parameter name="Solver" type="string" value="GMRESR"/>
    <Parameter name="Conv" type="string" value="r0"/>
    <Parameter name="Output" type="int" value="1"/>
    <Parameter name="Precond" type="string" value="None"/>
    <Parameter name="KSpace" type="int" value="20"/>
    <Parameter name="Orthog" type="string" value="Classic"/>
  </ParameterList><!-- } Auv Solver -->
  
  <ParameterList name="Auv Precond">
    <!-- supported values are "None", "Ifpack", "ML" -->
    <Parameter name="Method" type="string" value="ML"/>
	
	<!-- MultiLevel parameters (choice "ML" above) -->
    <ParameterList name="ML">
      <!-- note: ML has changed a lot in 8.0, that's why some params are not -->
      <!-- documented yet                                                    -->
      <Parameter name="ML debug mode" type="bool" value="0"/>
      <Parameter name="ML output" type="int" value="0"/>
      <Parameter name="ML validate parameter list" type="bool" value="1"/>
	  
      <!-- number of unknowns per node -->
      <Parameter name="PDE equations" type="int" value="2"/>
      <Parameter name="default values" type="string" value="DD-ML"/>
      <Parameter name="aggregation: aux: enable" type="bool" value="0"/>
      <Parameter name="aggregation: aux: max levels" type="int" value="10"/>
      <Parameter name="aggregation: aux: threshold" type="double" value="0.0"/>
      <Parameter name="aggregation: block scaling" type="bool" value="0"/>
      <!-- damping factor for smoothed aggregation (default is 4/3) -->
      <Parameter name="aggregation: damping factor" type="double" value="1.3333"/>
      <!-- don't coarsen in 'weak directions', i.e. drop weak couplings during coarsening -->
      <Parameter name="aggregation: threshold" type="double" value="1.0e-10"/>
      <!-- type of aggregation strategy                                     -->
      <!-- "Uncoupled": cheap to construct                                  -->
      <!-- "MIS": more expensive, generally gives better hierarchy          -->
      <!-- "Uncoupled-MIS": compromise, Uncoupled on fine levels and MIS on -->
      <!--                  coarser ones (default)                          -->
      <!-- "METIS": potentially better, but I haven't played around with it -->
      <Parameter name="aggregation: type" type="string" value="Uncoupled-MIS"/>

      <!-- haven't looked at the details of the algorithm -->
      <Parameter name="aggregation: smoothing sweeps" type="int" value="1"/>
      
      <!-- the other aggregation options are only for (Par)METIS and Zoltan: -->
      <!--Parameter name="aggregation: nodes per aggregate" type="int" value="2"/-->
      
      <!-- How to determine null vectors. These are vital when -->
      <!-- building the transfer operators                     -->
      <!-- "default vectors", "enriched" (not working in r7.0) -->
      <!-- "pre-computed" (not supported by our code yet       -->
      <Parameter name="null space: type" type="string" value="default vectors"/>
      
      <Parameter name="eigen-analysis: type" type="string" value="Anorm"/>
      <Parameter name="coarse: max size" type="int" value="1024"/> 
      <Parameter name="coarse: type" type="string" value="Amesos-KLU"/>
      <!-- this only refers to the way the levels are numbered and has no practical effect -->
      <Parameter name="increasing or decreasing" type="string" value="increasing"/>
      <!-- fewer levels generally give better scalability -->
      <Parameter name="max levels" type="int" value="3"/>
      <Parameter name="cycle applications" type="int" value="1"/>
      <!-- maximum verbosity is 10, output is always sent to stdout  -->
      <Parameter name="output" type="int" value="0"/>
      <!-- "MGV","MGW","full-MGV" -->
      <Parameter name="prec type" type="string" value="MGV"/>
      <Parameter name="print unused" type="int" value="-2"/>
      <!-- this factor is used for relaxation smoothers like Jacobi and GS -->
      <Parameter name="smoother: damping factor" type="double" value="1.0"/>
      <Parameter name="smoother: pre or post" type="string" value="both"/>
      <Parameter name="smoother: sweeps" type="int" value="1"/>
      
      <!-- "Aztec", "Gauss-Seidel", "Block Gauss-Seidel", "MLS"-->
      <!-- "Chebyshev", "self", "IFPACK" etc                   -->
      <Parameter name="smoother: type" type="string" value="Aztec"/>
      
      <!-- if you chose "Aztec" above, only the Aztec preconditioner will be -->
      <!-- applied unless you set this to 1:                                 -->
      <Parameter name="smoother: Aztec as solver" type="bool" value="0"/>
      
      <!-- parameters for Aztec smoother { -->
      <ParameterList name="smoother: aztec list">
        <Parameter name="Max_Iter" type="int" value="1"/>
        <Parameter name="Tol" type="double" value="1.0e-10"/>
        <Parameter name="Solver" type="string" value="GMRESR"/>
        <Parameter name="Conv" type="string" value="r0"/>
        <Parameter name="Scaling" type="string" value="None"/>
        <Parameter name="Overlap" type="int" value="0"/>
        <Parameter name="Precond" type="string" value="dom_decomp"/>
        <Parameter name="Subdomain_Solve" type="string" value="ilut"/>
        <Parameter name="ILUT_Fill" type="double" value="1.0"/>
        <Parameter name="Drop" type="double" value="1.0e-2"/>
        <Parameter name="KSpace" type="int" value="10"/>
        <Parameter name="Orthog" type="string" value="Classic"/>
        <Parameter name="Output" type="int" value="0"/>
      </ParameterList><!--}-->
      
      <!-- settings for the "IFPACK" smoothers -->
      <Parameter name="smoother: ifpack overlap" type="int" value="0"/>

      <!-- { -->
      <ParameterList name="smoother: ifpack list">
        <Parameter name="partitioner: type" type="string" value="user"/>
        <Parameter name="schwarz: compute condest" type="bool" value="0"/>
        <Parameter name="schwarz: filter singletons" type="bool" value="0"/>
        <Parameter name="schwarz: combine mode" type="string" value="Average"/>
        <!--Parameter name="partitioner: local parts" type="int" value="2"/-->
        <Parameter name="relaxation: type" type="string" value="symmetric Gauss-Seidel"/>
        <Parameter name="relaxation: sweeps" type="int" value="1"/>
        <Parameter name="relaxation: damping factor" type="double" value="1.0"/>
        <Parameter name="relaxation: zero starting solution" type="bool" value="0"/>
        <Parameter name="fact: level-of-fill" type="int" value="3"/>
        <Parameter name="fact: ilut level-of-fill" type="double" value="3.0"/>
        <Parameter name="fact: drop tolerance" type="double" value="1.0e-10"/>

      </ParameterList> <!-- } smoother: ifpack list" -->
    </ParameterList> <!-- } ML -->
    
  </ParameterList><!-- } Auv Precond -->

  <!-- Solver parameters for the saddlepoint problem { -->
  <ParameterList name="Saddlepoint Solver">
    <Parameter name="Method" type="string" value="None"/>
    <Parameter name="Solver" type="string" value="GMRESR"/>
    <Parameter name="Max Num Iter" type="int" value="1"/>
    <Parameter name="Tolerance" type="double" value="1.0e-3"/>
    <Parameter name="Output" type="int" value="1"/>
  </ParameterList><!-- } Saddlepoint Solver -->

  <!-- Parameters for the modified Simple-type preconditioner for the -->
  <!-- Saddlepoint problem. {                                         -->
  <ParameterList name="Saddlepoint Preconditioner">
    
    <!-- mode of operation for the Simple preconditioner.                    -->
    <!-- "SI": Simple "SL": SimpleL (transposed) "SR": symmetrized = SimpleR -->
    <Parameter name="Scheme" type="string" value="SR"/>
	
    <!-- enable repartitioning for Chat (requires Zoltan/Isorropia) -->
    <Parameter name="Repartition Chat" type="bool" value="0"/>
	
    <!-- define the method for approximating the inverse of Auv. {-->
    <ParameterList name="Approximate Inverse">
      
      <!-- can only be "Block Diagonal" (2x2 block-diagonal) or -->
      <!-- "ParaSails" (if it is installed)                     -->
      <Parameter name="Method" type="string" value="Block Diagonal"/>
	  
    </ParameterList><!-- } Simple: Sparse Approximate Inverse -->

	<!-- Solver for Schur-complement inside Simple: { -->
    <ParameterList name="Chat Solver">
      <!-- can be "AztecOO" or "None" -->
      <Parameter name="Method" type="string" value="None"/>
      <Parameter name="Max Num Iter" type="int" value="1"/>
      <Parameter name="Tol" type="double" value="1.0e-2"/>
      <Parameter name="Solver" type="string" value="GMRESR"/>
      <Parameter name="Conv" type="string" value="r0"/>
      <Parameter name="Scaling" type="string" value="None"/>
      <Parameter name="Overlap" type="int" value="1"/>
      <Parameter name="Precond" type="string" value="None"/>
      <Parameter name="Subdomain_Solve" type="string" value="ilut"/>
      <Parameter name="Graph_Fill" type="double" value="1.0"/>
      <Parameter name="ILUT_Fill" type="double" value="1.0"/>
      <Parameter name="Drop" type="double" value="1.0e-8"/>
      <Parameter name="KSpace" type="int" value="10"/>
      <Parameter name="Orthog" type="string" value="Classic"/>
      <Parameter name="Output" type="int" value="1"/>
    </ParameterList><!-- } Grad-Div Solver -->

    <!-- Parameters for the preconditioner for \hat{C}                      -->
    <!-- (Schur-complement in Spp Simple precond)                           -->
    <!-- for comments see the "Auv Precond" list above {                    -->
    <ParameterList name="Chat Precond">
      
      <Parameter name="Method" type="string" value="Ifpack"/>

      <!-- Ifpack -->      
      <Parameter name="Ifpack Method" type="string" value="Amesos stand-alone"/>
      <Parameter name="amesos: solver type" type="string" value="Amesos_Klu"/>
      <Parameter name="Ifpack Overlap Level" type="int" value="0"/>
	</ParameterList>
  </ParameterList>
  
  
  <!-- Parameters for the Krylov solver for ATS { --> 
  <ParameterList name="ATS Solver">
	<Parameter name="Method" type="string" value="AztecOO"/>
	<Parameter name="Solver" type="string" value="GMRESR"/>
	<Parameter name="Max Num Iter" type="int" value="20"/>
	<Parameter name="Tolerance" type="double" value="1.0e-4"/>
	<Parameter name="Output" type="int" value="1"/>
	<Parameter name="KSpace" type="int" value="20"/>
  </ParameterList><!-- } ATS Solver -->
  
  <!-- Parameters for the preconditioner for ATS (also used for rho-mu system) { -->
  <ParameterList name="ATS Precond">
    
    <!-- for comments see "Auv Precond" list above -->
    
    <Parameter name="Method" type="string" value="ML"/>
    
	<ParameterList name="ML">
	  
      <Parameter name="ML validate parameter list" type="bool" value="1"/>
      <Parameter name="default values" type="string" value="DD"/>
      <Parameter name="PDE equations" type="int" value="2"/>
      <Parameter name="ML debug mode" type="bool" value="0"/>
      <Parameter name="ML output" type="int" value="0"/>
      <Parameter name="aggregation: damping factor" type="double" value="1.333"/>
      <Parameter name="aggregation: threshold" type="double" value="0.0"/>
      <Parameter name="aggregation: type" type="string" value="Uncoupled-MIS"/>
      <Parameter name="aggregation: symmetrize" type="bool" value="0"/>
      <Parameter name="aggregation: local aggregates" type="int" value="64"/>
      <Parameter name="aggregation: smoothing sweeps" type="int" value="1"/>
      <Parameter name="eigen-analysis: type" type="string" value="Anorm"/>
      <Parameter name="coarse: max size" type="int" value="8192"/> 
      <Parameter name="coarse: type" type="string" value="Amesos-KLU"/>
      <Parameter name="increasing or decreasing" type="string" value="increasing"/>
      <Parameter name="max levels" type="int" value="2"/>
      <Parameter name="cycle applications" type="int" value="1"/>
      <Parameter name="prec type" type="string" value="full-MGV"/>
      <Parameter name="print unused" type="int" value="-2"/>
      <Parameter name="smoother: damping factor" type="double" value="0.9"/>
      <Parameter name="smoother: pre or post" type="string" value="both"/>
      <Parameter name="smoother: sweeps" type="int" value="1"/>
      <Parameter name="smoother: type" type="string" value="Aztec"/>
	  <!--
          <Parameter name="smoother: type (level 0)" type="string" value="IFPACK"/>
          <Parameter name="smoother: type (level 1)" type="string" value="do-nothing"/>
	  -->                
      <Parameter name="smoother: Aztec as solver" type="bool" value="0"/>
      
      <Parameter name="repartition: enable" type="int" value="0"/>
      <Parameter name="repartition: partitioner" type="string" value="Zoltan"/>
      <Parameter name="repartition: Zoltan dimensions" type="int" value="3"/>
      
      <Parameter name="viz: enable" type="bool" value="0"/>
      <Parameter name="viz: output format" type="string" value="xyz"/>
      <Parameter name="viz: print starting solution" type="bool" value="1"/>

      <!-- { -->
      <ParameterList name="smoother: aztec list">
        <Parameter name="Max_Iter" type="int" value="2"/>
        <Parameter name="Tol" type="double" value="0.0"/>
        <Parameter name="Solver" type="string" value="GMRESR"/>
        <Parameter name="Conv" type="string" value="r0"/>
        <Parameter name="Scaling" type="string" value="None"/>
        <Parameter name="Overlap" type="int" value="0"/>
        <Parameter name="Precond" type="string" value="dom_decomp"/>
        <Parameter name="Subdomain_Solve" type="string" value="ilut"/>
        <Parameter name="ILUT_Fill" type="double" value="3.0"/>
        <Parameter name="Drop" type="double" value="0.1"/>
        <Parameter name="KSpace" type="int" value="1000"/>
        <Parameter name="Orthog" type="string" value="Classic"/>
        <Parameter name="Output" type="int" value="0"/>
      </ParameterList><!--}-->

      <Parameter name="smoother: ifpack overlap" type="int" value="0"/>
      <!--Parameter name="smoother: ifpack type" type="string" 
          value="block relaxation (Amesos)"/-->
      
      <!-- { -->
      <ParameterList name="smoother: ifpack list">
        <Parameter name="partitioner: type" type="string" value="user"/>
        <Parameter name="schwarz: compute condest" type="bool" value="0"/>
        <Parameter name="schwarz: filter singletons" type="bool" value="0"/>
        <Parameter name="schwarz: combine mode" type="string" value="Average"/>
        <!--Parameter name="partitioner: local parts" type="int" value="1"/-->
        <Parameter name="relaxation: type" type="string" value="Jacobi"/>
        <Parameter name="relaxation: sweeps" type="int" value="1"/>
        <Parameter name="relaxation: damping factor" type="double" value="1.0"/>
        <Parameter name="relaxation: zero starting solution" type="bool" value="0"/> 
        <Parameter name="fact: level-of-fill" type="int" value="1"/>
        <Parameter name="fact: ilut level-of-fill" type="double" value="5.0"/>
        <Parameter name="fact: drop tolerance" type="double" value="1.0e-8"/>
      </ParameterList> <!-- } smoother: ifpack list" -->
    </ParameterList> <!-- } ML -->
  </ParameterList><!-- } ATS Precond -->
</ParameterList> <!-- } Block prec -->
  
